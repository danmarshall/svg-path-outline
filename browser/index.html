<!DOCTYPE html>
<html lang="en">
<head>
    <title>svg-path-outline</title>

    <script src="https://maker.js.org/target/js/browser.maker.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/bezier-js@2/bezier.js" type="text/javascript"></script>
    <script src="./index.js" type="text/javascript"></script>

    <style type="text/css">
        body, input, button, select, textarea {
            font-family: sans-serif;
        }
        button {
            margin-bottom: 5em;
        }
        svg {
            margin: 40px;
            display: block;
            overflow: visible;
            fill-rule: evenodd;
        }
        #star path {
            fill: silver;
            stroke: black;
        }
        #rainbow {
            margin-left: 60px;
        }
        #rainbow path:last-child {
            fill: white;
            stroke: black;
        }
        #island polygon {
            fill: silver;
            stroke: black;
        }
        #island path {
            fill: none;
            stroke: blue;
        }
    </style>
</head>
<body>
    <h1>svg-path-outline</h1>

    <a class="github-button" href="https://github.com/danmarshall/svg-path-outline" data-style="mega" data-count-href="/danmarshall/svg-path-outline/stargazers" data-count-api="/repos/danmarshall/svg-path-outline#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star danmarshall/svg-path-outline on GitHub">Star</a>
    
    <a href="https://github.com/danmarshall/svg-path-outline">link to GitHub repo</a>

    <svg id="star">
        <path d="M 95 35 L 59 35 L 48 0 L 36 35 L 0 35 L 29 56 L 18 90 L 48 69 L 77 90 L 66 56 Z" />
    </svg>

    <button onclick="outlineStar()" >outline star</button> Try clicking multiple times

    <svg  id="rainbow">
        <path d="M 305.784 54.45072 L 303.336 41.34672 L 302.328 41.34672 L 300.024 54.45072 Q 299.808 56.17872 287.424 56.17872 A 16.6332426 16.6332426 0 0 1 282.852 55.78272 A 2.5408286 2.5408286 0 0 1 281.304 54.45072 Q 267.912 21.54672 267.912 19.81872 Q 267.912 18.09072 273.132 16.25472 A 30.2264317 30.2264317 0 0 1 283.176 14.41872 Q 289.368 14.41872 289.584 17.73072 L 292.032 37.45872 L 292.896 37.45872 L 293.76 21.54672 A 4.5656598 4.5656598 0 0 1 297.432 18.37872 A 20.3303078 20.3303078 0 0 1 304.704 17.01072 A 13.0119365 13.0119365 0 0 1 310.212 17.91072 A 2.8083651 2.8083651 0 0 1 312.12 20.10672 L 312.912 37.45872 L 313.704 37.45872 L 316.08 18.95472 Q 316.296 17.22672 320.94 15.82272 A 28.736749 28.736749 0 0 1 329.112 14.41872 A 12.5706606 12.5706606 0 0 1 334.656 15.42672 A 4.6079739 4.6079739 0 0 1 337.968 19.17072 A 888.9179346 888.9179346 0 0 1 331.452 36.73872 A 935.5535915 935.5535915 0 0 1 324.72 54.45072 Q 323.784 56.17872 314.964 56.17872 Q 306.144 56.17872 305.784 54.45072 Z M 167.616 32.27472 L 167.616 54.45072 Q 167.616 55.24272 163.512 55.71072 A 74.6416154 74.6416154 0 0 1 155.052 56.17872 A 24.0405579 24.0405579 0 0 1 149.436 55.78272 A 1.4504927 1.4504927 0 0 1 148.176 54.45072 L 148.176 31.55472 A 22.0552632 22.0552632 0 0 0 147.924 27.30672 A 88.3392366 88.3392366 0 0 0 147.456 25.50672 A 1.8231422 1.8231422 0 0 0 145.656 24.13872 A 1.7507954 1.7507954 0 0 0 143.64 26.08272 L 143.64 54.45072 Q 143.64 55.24272 139.572 55.71072 A 73.6920793 73.6920793 0 0 1 131.148 56.17872 A 24.5699324 24.5699324 0 0 1 125.496 55.78272 A 1.4661713 1.4661713 0 0 1 124.2 54.45072 L 124.2 18.95472 Q 124.2 17.44272 128.34 15.93072 A 25.2989718 25.2989718 0 0 1 137.088 14.41872 Q 141.696 14.41872 142.272 17.08272 L 142.92 20.25072 L 143.424 20.25072 A 11.5816173 11.5816173 0 0 1 150.624 14.41872 A 15.4938565 15.4938565 0 0 1 155.232 13.77072 A 10.4232815 10.4232815 0 0 1 165.06 18.12672 A 29.2840767 29.2840767 0 0 1 167.616 32.27472 Z M 0 54.09072 L 0 7.79472 Q 0 5.92272 4.716 5.13072 A 74.0213528 74.0213528 0 0 1 16.632 4.33872 A 723.9299399 723.9299399 0 0 1 25.956 4.37472 A 88.0526209 88.0526209 0 0 1 30.96 4.62672 A 22.5438549 22.5438549 0 0 1 35.532 5.34672 A 50.7006403 50.7006403 0 0 1 39.276 6.64272 A 8.30451 8.30451 0 0 1 42.48 8.69472 A 20.5931287 20.5931287 0 0 1 44.712 11.68272 A 16.6346912 16.6346912 0 0 1 46.656 20.50272 A 21.9461523 21.9461523 0 0 1 44.748 30.15072 A 14.1439392 14.1439392 0 0 1 39.672 36.09072 Q 47.952 49.12272 47.952 52.65072 Q 47.952 56.17872 33.768 56.17872 A 29.9003738 29.9003738 0 0 1 28.08 55.81872 A 2.5257793 2.5257793 0 0 1 26.064 54.23472 L 21.384 39.40272 L 20.16 39.33072 L 20.16 54.09072 Q 20.16 55.02672 15.768 55.60272 A 67.7564624 67.7564624 0 0 1 6.948 56.17872 A 19.4235146 19.4235146 0 0 1 1.26 55.67472 A 1.6831191 1.6831191 0 0 1 0 54.09072 Z M 72.072 30.76272 L 74.448 30.76272 A 4.4903538 4.4903538 0 0 0 72.432 26.58672 A 5.3574661 5.3574661 0 0 0 69.804 26.08272 A 12.4246483 12.4246483 0 0 0 65.556 27.01872 A 27.2645661 27.2645661 0 0 0 61.416 28.92672 A 5.9937452 5.9937452 0 0 1 59.184 29.89872 A 6.3173394 6.3173394 0 0 1 55.656 26.47872 A 11.6757766 11.6757766 0 0 1 53.424 20.25072 A 4.4579575 4.4579575 0 0 1 56.088 17.80272 A 31.927634 31.927634 0 0 1 63.612 15.03072 A 37.6547608 37.6547608 0 0 1 73.08 13.77072 A 36.5403106 36.5403106 0 0 1 81.036 14.52672 A 23.8021622 23.8021622 0 0 1 86.508 16.36272 A 11.1100269 11.1100269 0 0 1 90.108 19.24272 A 19.8015829 19.8015829 0 0 1 92.34 22.48272 A 12.1625201 12.1625201 0 0 1 93.456 26.22672 A 35.9863663 35.9863663 0 0 1 93.96 32.77872 L 93.96 54.45072 Q 93.96 55.24272 90.108 55.71072 A 63.2326132 63.2326132 0 0 1 82.476 56.17872 A 33.4500617 33.4500617 0 0 1 77.58 55.96272 A 2.4691363 2.4691363 0 0 1 76.248 55.45872 A 2.6305618 2.6305618 0 0 1 75.888 54.45072 L 75.312 50.34672 L 74.736 50.34672 A 8.9418432 8.9418432 0 0 1 64.872 56.82672 A 15.687656 15.687656 0 0 1 54.576 53.73072 A 10.5739026 10.5739026 0 0 1 51.948 49.91472 A 14.4770773 14.4770773 0 0 1 50.832 44.01072 A 10.6775036 10.6775036 0 0 1 52.452 38.10672 A 11.8910438 11.8910438 0 0 1 56.376 34.21872 A 22.2677346 22.2677346 0 0 1 61.776 31.98672 A 40.6477118 40.6477118 0 0 1 72.072 30.76272 Z M 172.656 52.43472 L 172.656 6.78672 Q 172.656 5.20272 176.904 3.69072 A 26.4246675 26.4246675 0 0 1 185.832 2.17872 Q 192.168 2.17872 192.168 5.49072 L 192.168 13.62672 L 191.376 18.59472 L 191.952 18.59472 A 7.7853831 7.7853831 0 0 1 193.572 17.01072 A 14.458308 14.458308 0 0 1 196.056 15.42672 A 14.8449405 14.8449405 0 0 1 203.04 13.77072 A 15.1666623 15.1666623 0 0 1 209.052 14.74272 A 9.7846201 9.7846201 0 0 1 212.58 17.26272 A 11.5319761 11.5319761 0 0 1 214.704 21.18672 A 32.725541 32.725541 0 0 1 216.072 31.41072 A 41.1210961 41.1210961 0 0 1 213.768 46.96272 A 13.904895 13.904895 0 0 1 206.28 54.59472 A 38.0969058 38.0969058 0 0 1 191.664 56.82672 A 66.072399 66.072399 0 0 1 176.616 55.45872 Q 172.656 54.45072 172.656 52.43472 Z M 233.64 55.89072 A 40.1436783 40.1436783 0 0 0 242.928 56.82672 A 24.1080138 24.1080138 0 0 0 259.56 51.31872 A 20.879075 20.879075 0 0 0 265.752 34.86672 A 31.4820707 31.4820707 0 0 0 264.528 25.54272 A 17.3682389 17.3682389 0 0 0 261.396 19.38672 A 13.0504581 13.0504581 0 0 0 256.356 15.85872 A 24.3722752 24.3722752 0 0 0 250.2 14.16672 A 57.0736214 57.0736214 0 0 0 242.928 13.77072 A 26.6552757 26.6552757 0 0 0 226.728 18.37872 Q 220.032 23.34672 220.032 34.86672 Q 220.032 47.82672 226.584 52.57872 A 19.0756978 19.0756978 0 0 0 233.64 55.89072 Z M 118.8 18.95472 L 118.8 54.45072 Q 118.8 55.24272 114.66 55.71072 A 75.5985912 75.5985912 0 0 1 106.164 56.17872 A 24.0405579 24.0405579 0 0 1 100.548 55.78272 A 1.4504927 1.4504927 0 0 1 99.288 54.45072 L 99.288 20.25072 Q 99.288 18.66672 103.356 17.11872 A 24.8053569 24.8053569 0 0 1 112.248 15.57072 Q 118.8 15.57072 118.8 18.95472 Z M 116.46 1.42272 A 16.3461439 16.3461439 0 0 0 109.008 0.01872 Q 99 0.01872 99 6.49872 Q 99 12.97872 109.08 12.97872 Q 119.16 12.97872 119.16 6.49872 A 5.2071013 5.2071013 0 0 0 116.46 1.42272 Z M 192.096 46.24272 L 194.328 46.24272 Q 196.632 46.24272 196.632 35.19072 Q 196.632 24.13872 194.256 24.13872 L 192.096 24.13872 L 192.096 46.24272 Z M 240.408 42.78672 Q 240.408 42.78672 240.66 44.08272 A 3.3158429 3.3158429 0 0 0 241.452 45.88272 A 2.0256738 2.0256738 0 0 0 242.892 46.38672 A 2.0256738 2.0256738 0 0 0 244.332 45.88272 A 6.8478437 6.8478437 0 0 0 245.34 42.78672 A 37.6530188 37.6530188 0 0 0 245.808 36.27072 A 76.7138576 76.7138576 0 0 0 245.628 30.22272 A 26.9614557 26.9614557 0 0 0 245.196 26.94672 A 5.3229652 5.3229652 0 0 0 244.512 25.14672 A 1.8647376 1.8647376 0 0 0 242.964 24.21072 A 2.0717493 2.0717493 0 0 0 241.488 24.75072 A 7.0170806 7.0170806 0 0 0 240.408 27.91872 A 42.0359001 42.0359001 0 0 0 239.904 35.37072 A 41.3959538 41.3959538 0 0 0 240.408 42.78672 Z M 20.16 28.24272 L 22.032 28.24272 Q 26.208 28.24272 26.208 21.76272 A 7.5191454 7.5191454 0 0 0 25.092 17.08272 A 3.2513826 3.2513826 0 0 0 22.536 15.71472 L 20.16 15.71472 L 20.16 28.24272 Z M 74.52 44.87472 L 74.52 36.45072 A 3.5706191 3.5706191 0 0 0 71.496 38.03472 A 5.9664295 5.9664295 0 0 0 70.344 41.63472 Q 70.344 46.38672 72.504 46.38672 A 2.1779848 2.1779848 0 0 0 73.98 45.91872 A 1.3663882 1.3663882 0 0 0 74.52 44.87472 Z"/>
    </svg>

    <button onclick="outlineRainbow()" >outline rainbow</button> Warning: computation takes about 15 seconds. Try clicking again after it finishes.

    <svg id="island">
        <polygon points="310.13843,44.45776 310.3833,45.03296 313.32104,46.19434 317.46265,46.51953 318.69531,46.96045 321.29785,48.88281 322.32861,50.83643 326.2251,53.37305 326.58911,54.23657 326.45557,56.21289 327.89038,58.10059 327.6272,59.44043 328.29053,60.53027 328.45264,62.39893 329.10132,63.35889 330.37378,62.92822 330.96118,63.09131 331.34326,64.70923 331.28564,67.84424 330.50708,69.71729 330.28003,72.79736 328.25073,76.20288 327.52979,78.0166 325.93652,79.9624 323.89648,85.68994 321.10303,88.70459 320.05786,91.62744 319.80566,93.72217 320.67432,99.16162 319.61816,101.73682 319.802,102.19727 322.12305,101.8623 321.63647,103.19971 321.18604,104.43457 321.93213,106.80054 321.698,109.76514 321.13916,110.93701 320.60938,110.59912 318.52246,110.98779 317.02295,110.5957 316.26953,111.72803 315.05127,111.98413 314.1394,112.93115 311.81104,112.74438 310.08081,113.59131 310.55664,114.10449 315.95239,113.36011 317.52393,113.4458 317.80518,115.7041 316.47144,116.02002 315.45483,117.54932 313.49048,118.1106 313.38599,118.22437 312.69385,118.99609 310.44116,119.91211 309.31665,121.73364 307.87134,122.16846 308.42627,123.8418 308.15234,124.65991 305.42749,125.00342 304.29932,126.70947 303.26123,127.07861 302.2373,128.25977 301.13818,128.51416 300.1145,129.75342 298.49609,130.24976 297.46875,131.19971 296.31177,131.39673 294.99634,132.52612 293.89331,132.54834 289.26514,130.90063 285.79761,129.1709 282.72314,129.46533 281.19116,128.56836 277.42456,129.10986 276.50171,129.59326 274.80054,128.81543 272.99829,128.85254 270.0896,128.79688 264.99268,127.10254 264.34033,126.53564 262.88428,126.39209 261.64062,125.37305 260.36475,125.51562 259.06006,127.05273 257.54956,127.08447 255.99609,125.14307 253.2207,123.22705 252.22583,122.9585 248.63965,118.50635 246.41919,115.47656 244.36108,114.41846 243.51392,112.92603 243.78076,111.93335 233.85034,109.99902 231.55078,108.77148 227.9248,107.86377 227.3877,107.35254 226.73901,106.84424 223.81934,106.38525 220.70166,105.00244 219.3894,103.46411 218.26123,100.00537 215.20483,96.06763 214.58472,94.33936 215.36328,84.97656 215.89307,82.70068 218.07373,81.25903 220.5752,78.59229 222.58301,77.27124 224.62671,74.9624 225.07007,73.96582 225.97852,70.28955 227.7771,64.73584 229.99731,62.42358 234.53174,59.42383 235.8689,59.2207 238.48584,59.10645 239.57788,58.38623 241.67212,58.22559 243.33374,56.97119 245.30176,56.46436 246.21387,55.5166 246.89502,54.63135 247.021,54.56055 248.62134,53.66602 251.13745,51.46484 253.38281,50.25684 259.13916,46.88525 262.22827,44.20947 263.43945,43.60352 264.19971,43.81982 266.36963,44.47168 268.21143,43.38843 269.84082,43.23853 270.95801,43.62183 271.6106,44.30493 272.00342,46.27002 272.94434,46.65723 274.09058,45.70508 275.01318,45.33691 275.96118,46.07275 277.59033,45.9812 278.85913,47.98682 279.97656,48.48608 281.60571,48.39502 282.46362,47.68066 282.66162,45.99365 282.98633,44.71045 283.66748,43.94238 285.57056,42.97437 288.07568,42.86572 290.77173,43.62427 293.85352,43.32959 297.71045,43.8335 299.36841,45.07715 300.33789,44.0127 301.08423,43.41797 303.23584,43.20093 304.31738,41.95996 305.71216,41.81689 307.55396,43.46387 309.9978,43.41553" />
    </svg>

    <button onclick="outlineIsland()" >outline island</button> Warning: computation takes about 15 seconds.

    <script type="text/javascript">

        var spo = require('svg-path-outline');

        function outlineStar() {
            var star = document.querySelector('#star path');
            var d = star.getAttribute('d');
            var outline = spo(d, 10);
            star.setAttribute('d', d + outline);
        }

        function outlineRainbow() {
            var svg = document.querySelector('#rainbow');

            function addOutlinePath(d, distance, color) {
                var outline = spo(d, distance);
                var newPath = document.createElementNS(svg.namespaceURI, 'path');
                
                newPath.setAttribute('d', outline);
                newPath.setAttribute('fill', color);

                svg.insertBefore(newPath, svg.firstChild);

                return outline;
            }

            var rainbowPath = svg.querySelector('path');

            var d = rainbowPath.getAttribute('d');

            var colors = ['#672F8A', '#EE4035', '#F27835', '#F2EB80', '#7BC242', '#0193D1'];

            colors.forEach(function (color, i) {
                d = addOutlinePath(d, i == 0 ? 5 : 10, color);
            });
        }

        function outlineIsland() {
            var svg = document.querySelector('#island');
            var island = svg.querySelector('polygon');
            var points = island.getAttribute('points');

            for (var i = 1; i < 10; i++) {

                var outline = spo(points, 5 * i, { tagName: 'polygon' });

                var newPath = document.createElementNS(svg.namespaceURI, 'path');
                
                newPath.setAttribute('d', outline);
                newPath.setAttribute('fill', 'none');

                svg.appendChild(newPath);
            }
        }
       
    </script>

    <script async defer src="https://buttons.github.io/buttons.js"></script>
    
</body>
</html>
